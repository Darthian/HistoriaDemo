<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Historia Clinica UN</title>
	<link rel="stylesheet" type="text/css" href="css/style.css" />
	<link rel="icon" href="images/favicon.ico" type="image/x-icon" />
	<script type="text/javascript">
		$(document).ready(function(){
			$(document.getElementById('registrarHabitos:fumador')).hide();
			console.log("Se oculta el primer campo");
			$(document.getElementById('registrarHabitos:exfumador')).hide();
			console.log("Se oculta el segundo campo");
			$(document.getElementById('registrarHabitos:consumidorAlcohol')).hide();
			console.log("Se oculta el tercer campo");
			$(document.getElementById('registrarHabitos:ejercicio')).hide();
			console.log("Se oculta el cuarto campo");		
			$(document.getElementById('registrarHabitos:dificultadTexto')).hide();
							
		});
		function checkVisibility(){
			var optionIndexFumador = PF('siNoFumador').getSelectedValue();
			var optionIndexExFumador = PF('siNoexFumador').getSelectedValue();
			var optionIndexAlcohol = PF('siNoconsumidorAlcohol').getSelectedValue();
			var optionIndexEjercicio = PF('siNoejercicio').getSelectedValue();
			var optionIndexDificultad = PF('dificultad').getSelectedValue();
			
			console.log("EL SELECT ESTA EN "+ optionIndexFumador + " PERRA!!!");
			
			if(optionIndexFumador == "Si"){
				$(document.getElementById('registrarHabitos:fumador')).show();
				console.log("Escogio SI PERRA");
			}else{
				if(optionIndexFumador == "No"){
					$(document.getElementById('registrarHabitos:fumador')).hide();
					console.log("Escogio NO PERRA");
				}
			}
			if(optionIndexExFumador == "Si"){
				$(document.getElementById('registrarHabitos:exfumador')).show();
				console.log("Escogio SI PERRA");
			}else{
				if(optionIndexExFumador == "No"){
					$(document.getElementById('registrarHabitos:exfumador')).hide();
					console.log("Escogio NO PERRA");
				}
			}
			if(optionIndexAlcohol == "Si"){
				$(document.getElementById('registrarHabitos:consumidorAlcohol')).show();
				console.log("Escogio SI PERRA");
			}else{
				if(optionIndexAlcohol == "No"){
					$(document.getElementById('registrarHabitos:consumidorAlcohol')).hide();
					console.log("Escogio NO PERRA");
				}
			}
			if(optionIndexEjercicio == "Si"){
				$(document.getElementById('registrarHabitos:ejercicio')).show();
				console.log("Escogio SI PERRA");
			}else{
				if(optionIndexEjercicio == "No"){
					$(document.getElementById('registrarHabitos:ejercicio')).hide();
					console.log("Escogio NO PERRA");
				}
			}
			if(optionIndexDificultad == "Si"){
				$(document.getElementById('registrarHabitos:dificultadTexto')).show();
				console.log("Escogio SI PERRA");
			}else{
				if(optionIndexDificultad == "No"){
					$(document.getElementById('registrarHabitos:dificultadTexto')).hide();
					console.log("Escogio NO PERRA");
				}
			}
		}
	</script>
	
</h:head>
<body>

	<h:outputLabel value="USTED NO HA INICIADO SESIÓN" rendered="#{loginController.verificarSesion() eq false}" />
	<h:form id="registrarHabitos" rendered="#{loginController.verificarSesion()}">
		<p:growl id="growl" showDetail="true" sticky="false" />
		<div id="contenedor" class="center">
			<div id="cabecera" align="center">
				<img src="images/logo.png" width="25%" height="15%" />
				<h2>Registrar Habitos del Paciente</h2>
			</div>
			<div id="lista" align="center">
				<ul>
					<li class="item"><a href="adminHabitos.xhtml">Buscar Habitos</a></li>
				</ul>
			</div>

			<div id="contenedor-cuerpo" align="center">
				<p:commandButton value="Cerrar Sesión" action="#{loginController.cerrarSesion()}" styleClass="controles" />
				<h2>
					<h:outputLabel value="Cedula del Paciente: " />
					<h:outputLabel value="#{pacienteMB.paciente.cedula}" />
				</h2>
				<p:panelGrid columns="3">
					
					<p>Fumador:</p>
					<p:selectOneMenu id="siNoFumador" widgetVar="siNoFumador" value="#{habitosMB.fumador}" onchange="checkVisibility()">
						<f:selectItem itemLabel="No" itemValue="No" />
						<f:selectItem itemLabel="Si" itemValue="Si" />
					</p:selectOneMenu>
					<p:inputTextarea cols="30" rows="4" id="fumador" value="#{habitosMB.fumadorTexto}" required="false" label="fumador"/>
					
					<p>Exfumador:</p>
					<p:selectOneMenu id="siNoexFumador" widgetVar="siNoexFumador" value="#{habitosMB.exfumador}" onchange="checkVisibility()"> 
						<f:selectItem itemLabel="No" itemValue="No" />
						<f:selectItem itemLabel="Si" itemValue="Si" />
					</p:selectOneMenu>
					<p:inputTextarea cols="30" rows="4" id="exfumador" value="#{habitosMB.exfumadorTexto}" required="false" label="exfumador"/>
					
					<p>Consumidor de Alcohol:</p>
					<p:selectOneMenu id="siNoconsumidorAlcohol" widgetVar="siNoconsumidorAlcohol" value="#{habitosMB.consumidorAlcohol}" onchange="checkVisibility()"> 
						<f:selectItem itemLabel="No" itemValue="No" />
						<f:selectItem itemLabel="Si" itemValue="Si" />
					</p:selectOneMenu>
					<p:inputTextarea cols="30" rows="4" id="consumidorAlcohol" value="#{habitosMB.alcoholTexto}" required="false" label="consumidorAlcohol}}"/>
					
					<p>Ejercicio:</p>
					<p:selectOneMenu id="siNoejercicio" widgetVar="siNoejercicio" value="#{habitosMB.ejercicio}" onchange="checkVisibility()"> 
						<f:selectItem itemLabel="No" itemValue="No" />
						<f:selectItem itemLabel="Si" itemValue="Si" />
					</p:selectOneMenu>
					<p:inputTextarea cols="30" rows="4" id="ejercicio" value="#{habitosMB.ejercicioTexto}" required="false" label="ejercicio"/>
					
					<p>Dificultad para hacer ejercicio:</p>
					<p:selectOneMenu id="dificultad" widgetVar="dificultad" value="#{habitosMB.dificultadEjercicio}" onchange="checkVisibility()"> 
						<f:selectItem itemLabel="No" itemValue="No" />
						<f:selectItem itemLabel="Si" itemValue="Si" />
					</p:selectOneMenu>
					<p:inputTextarea cols="30" rows="4" id="dificultadTexto" value="#{habitosMB.dificultadTexto}" required="false" label="dificultad ejercicio"/>
					
				</p:panelGrid>

				<p:commandButton update="growl" actionListener="#{habitosMB.guardarHabitos()}" value="Registrar" />
				<p:commandButton action="adminHabitos" immediate="true" value="Cancelar" />
			</div>

			<div class="clear"></div>

			<div id="piePagina">
				<div id="linkList">
					<ul>
						<li>Link1</li>
						<li>Link2</li>
						<li>Link3</li>
					</ul>
				</div>
			</div>

			<div class="clear"></div>

		</div>
	</h:form>
</body>
</html>